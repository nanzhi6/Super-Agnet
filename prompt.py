"""
è‚¡ç¥¨åˆ†ææç¤ºè¯æ¨¡æ¿æ–‡ä»¶
åŒ…å«å„ç§åˆ†æç±»å‹çš„æ¨¡æ¿ï¼Œæ”¯æŒé€šè¿‡åç§°æå–å’Œå ä½ç¬¦æ›¿æ¢
"""

ç½‘ç»œæ•ˆåº”åˆ†ææ–°é—»æ¨¡æ¿ = """
ä½œä¸ºå¹³å°ç»æµä¸“å®¶ï¼Œè¯·åŸºäº**2024å¹´å…¬å¸æ–°é—»**è¯„ä¼°è¯¥å…¬å¸çš„ç½‘ç»œæ•ˆåº”ï¼š

ã€æ–°é—»æ‘˜è¦ã€‘
{news_summary}
ã€è¿‡å¾€ä¿¡æ¯ã€‘
{history_info}

ã€åˆ†æè¦æ±‚ã€‘
1. **ç”¨æˆ·å¢é•¿åˆ†æ**ï¼šä»æ–°é—»ä¸­æ¨æ–­ç”¨æˆ·å¢é•¿è¶‹åŠ¿ï¼ˆæ­£å¢é•¿/è´Ÿå¢é•¿/ç¨³å®šï¼‰
2. **ç”Ÿæ€ä»·å€¼åˆ†æ**ï¼šåˆ†ææ–°é—»ä¸­æåˆ°çš„ç”¨æˆ·äº’åŠ¨æˆ–ARPUç›¸å…³å˜åŒ–
3. **è·¨è¾¹æ•ˆåº”åˆ†æ**ï¼šè¯†åˆ«æ–°é—»ä¸­æè¿°çš„ä¸åŒç”¨æˆ·ç¾¤ä½“é—´çš„ååŒå…³ç³»

ã€åˆ†ææ¡†æ¶ã€‘
- ç”¨æˆ·å¢é•¿ç‡ï¼š%ï¼ˆæ ¹æ®æ–°é—»æ¨æ–­ï¼‰
- ARPUå˜åŒ–ï¼š%ï¼ˆæ ¹æ®æ–°é—»æ¨æ–­ï¼‰
- ç½‘ç»œæ•ˆåº”å¼ºåº¦ï¼šï¼ˆå¼±/ä¸­/å¼ºï¼‰

ã€è¾“å‡ºæ ¼å¼ã€‘
- ç”¨æˆ·å¢é•¿ç‡ï¼š[æ•°å€¼æˆ–è¶‹åŠ¿æè¿°]
- ARPUå˜åŒ–ï¼š[+/- æ•°å€¼æˆ–è¶‹åŠ¿æè¿°]%
- ç½‘ç»œæ•ˆåº”å¼ºåº¦ï¼š[å¼±/ä¸­/å¼º]
- å…³é”®è¯æ®ï¼š[å¼•ç”¨æ–°é—»ä¸­çš„å…³é”®è¯­å¥]
"""

ç½‘ç»œæ•ˆåº”æ™ºèƒ½åˆ†ææ¨¡æ¿ = """
ä½œä¸ºé‡‘èAIåˆ†æå¸ˆï¼Œè¯·ä»ä»¥ä¸‹è¯¥å…¬å¸çš„2024å¹´æ–°é—»ä¸­æå–ç½‘ç»œæ•ˆåº”ç›¸å…³ä¿¡æ¯ï¼š

ã€åŸå§‹æ–°é—»æ–‡æœ¬ã€‘
{raw_news_text}

ã€åˆ†æä»»åŠ¡ã€‘
1. ç”¨æˆ·å¢é•¿æŒ‡æ ‡æå–ï¼šæ‰¾å‡ºç”¨æˆ·å¢é•¿ç‡ç›¸å…³æ•°æ®
2. ARPUå˜åŒ–åˆ†æï¼šè¯†åˆ«ARPUå€¼å˜åŠ¨ä¿¡æ¯
3. ç¾¤ä½“ååŒè¯æ®ï¼šå‘ç°ä¸åŒç”¨æˆ·ç¾¤ä½“äº’åŠ¨çš„æè¿°

ã€è¾“å‡ºè¦æ±‚ã€‘
æŒ‰ä»¥ä¸‹JSONæ ¼å¼è¾“å‡ºåˆ†æç»“æœï¼š
{{
  "user_growth": {{
    "value": "å¢é•¿ç‡æ•°å€¼æˆ–æè¿°",
    "source": "æ–°é—»åŸæ–‡å¼•ç”¨"
  }},
  "arpu_change": {{
    "value": "å˜åŒ–æ•°å€¼æˆ–æè¿°",
    "source": "æ–°é—»åŸæ–‡å¼•ç”¨"
  }},
  "network_effect_strength": "å¼±/ä¸­/å¼º",
  "cross_group_synergy": "ååŒæ•ˆåº”æè¿°",
  "key_evidence": ["å…³é”®è¯­å¥1", "å…³é”®è¯­å¥2"]
}}
"""

è¿‡å¾€ä¿¡æ¯æ–°é—»æ¨¡æ¿ = """
ä½œä¸ºå¹³å°ç»æµä¸“å®¶ï¼Œè¯·åŸºäºå†å²æ•°æ®å’Œä»Šæ—¥æ–°é—»ï¼Œå…¨é¢åˆ†æè¯¥å…¬å¸çš„ç½‘ç»œæ•ˆåº”æ¼”è¿›æƒ…å†µï¼š

ã€æ ¸å¿ƒä»»åŠ¡ã€‘
1. è¯†åˆ«ç½‘ç»œæ•ˆåº”çš„å…³é”®å˜åŒ–ç‚¹
2. è¯„ä¼°å½“å‰ç½‘ç»œæ•ˆåº”çš„å¼ºåº¦

ã€è¾“å…¥ä¿¡æ¯ã€‘
ğŸ“° ä»Šæ—¥æ–°é—»æ‘˜è¦ :
{news_summary}

ğŸ“Š å†å²ç½‘ç»œæ•ˆåº”æ•°æ®:
{history_info}

"""

# æ¨¡æ¿å­—å…¸ï¼Œç”¨äºé€šè¿‡åç§°æå–
PROMPT_TEMPLATES = {
    "network_effect": ç½‘ç»œæ•ˆåº”åˆ†ææ–°é—»æ¨¡æ¿,
    "network_effect_analysis": ç½‘ç»œæ•ˆåº”æ™ºèƒ½åˆ†ææ¨¡æ¿,
    "network_effect_history": è¿‡å¾€ä¿¡æ¯æ–°é—»æ¨¡æ¿

}

def get_prompt_template(template_name: str) -> str:
    """
    é€šè¿‡æ¨¡æ¿åç§°è·å–æç¤ºè¯æ¨¡æ¿
    
    Args:
        template_name: æ¨¡æ¿åç§°
        
    Returns:
        æç¤ºè¯æ¨¡æ¿å­—ç¬¦ä¸²
    """
    if template_name not in PROMPT_TEMPLATES:
        raise ValueError(f"ä¸æ”¯æŒçš„æ¨¡æ¿åç§°: {template_name}")
    
    return PROMPT_TEMPLATES[template_name]

def format_prompt(template_name: str, **kwargs) -> str:
    """
    æ ¼å¼åŒ–æç¤ºè¯æ¨¡æ¿ï¼Œå¡«å……å ä½ç¬¦
    
    Args:
        template_name: æ¨¡æ¿åç§°
        **kwargs: è¦å¡«å……çš„å‚æ•°
        
    Returns:
        æ ¼å¼åŒ–åçš„æç¤ºè¯
    """
    template = get_prompt_template(template_name)
    return template.format(**kwargs)

def get_available_templates() -> list:
    """
    è·å–æ‰€æœ‰å¯ç”¨çš„æ¨¡æ¿åç§°
    
    Returns:
        æ¨¡æ¿åç§°åˆ—è¡¨
    """
    return list(PROMPT_TEMPLATES.keys())

